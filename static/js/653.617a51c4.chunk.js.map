{"version":3,"file":"static/js/653.617a51c4.chunk.js","mappings":"qPACA,EAAsB,oBAAtB,EAAsD,0BAAtD,EAAgG,8BAAhG,EAAuI,uBAAvI,EAAsK,sBAAtK,EAAqM,uBAArM,EAAiO,mB,SCiFjO,EA9Ee,WACb,IAAMA,GAAWC,EAAAA,EAAAA,MAEXC,EADe,IAAIC,gBAAgBH,EAASI,QAClBC,IAAI,UACpC,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAsCF,EAAAA,EAAAA,UAAS,IAA/C,eAAOG,EAAP,KAAoBC,EAApB,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACJX,GACFY,EAAYZ,EAEf,GAAE,CAACA,IAEJ,IAAMY,EAAW,mCAAG,WAAMZ,GAAN,2FAEVa,EAFU,mGAEwFC,mBACtGd,IAHc,SAKOe,MAAMF,GALb,cAKVG,EALU,gBAMGA,EAASC,OANZ,OAMVC,EANU,OAOhBZ,EAAUY,EAAKC,SAPC,kDAShBC,QAAQC,IAAI,yBAAZ,MATgB,0DAAH,sDA0BjB,OACE,4BACE,iBAAKC,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMC,GAAG,IAAIF,UAAWC,EAAxB,mBAGA,SAAC,KAAD,CAAMC,GAAG,UAAUF,UAAWC,EAA9B,wBAIF,iBAAKD,UAAWC,EAAhB,WACE,kBACED,UAAWC,EACXE,KAAK,OACLC,YAAY,kBACZC,MAAOpB,EACPqB,SAxBkB,SAAAC,GACxBrB,EAAeqB,EAAEC,OAAOH,MACzB,KAwBK,mBAAQL,UAAWC,EAAeQ,QA/BnB,WACnBtB,EAAS,kBAAD,OAAmBK,mBAAmBP,KAC9CK,EAAYL,EACb,EA4BK,wBAKF,wBACGF,EAAO2B,KAAI,SAAAC,GAAK,OACf,eACEX,UAAWC,EAEXQ,QAAS,kBAhCMG,EAgCiBD,EAAME,QA/B9C1B,EAAS,WAAD,OAAYyB,IADG,IAAAA,CAgCN,EAHX,SAKGD,EAAMG,OAHFH,EAAME,GAHE,QAYxB,C,sBChFD,SAASE,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBjB,EAAQkB,EAAKlB,KAInB,CAHE,MAAOmB,GAEP,YADAN,EAAOM,EAET,CAEID,EAAKE,KACPR,EAAQZ,GAERqB,QAAQT,QAAQZ,GAAOsB,KAAKR,EAAOC,EAEvC,CAEe,SAASQ,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUT,EAASC,GACpC,IAAIF,EAAMa,EAAGK,MAAMJ,EAAME,GAEzB,SAASb,EAAMd,GACbU,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQf,EAClE,CAEA,SAASe,EAAOe,GACdpB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASe,EACnE,CAEAhB,OAAMiB,EACR,GACF,CACF,C","sources":["webpack://goit-react-hw-05-movies/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"nav\":\"Movies_nav__xgurm\",\"nav__name\":\"Movies_nav__name__X2Gn5\",\"nav__namehome\":\"Movies_nav__namehome__X9xkp\",\"search\":\"Movies_search__xz3P7\",\"input\":\"Movies_input__OE3ef\",\"button\":\"Movies_button__hVjwG\",\"li\":\"Movies_li__oWqWQ\"};","import React, { useEffect, useState } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport styles from './Movies.module.css';\n\nconst Movies = () => {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const searchTerm = searchParams.get('search');\n  const [movies, setMovies] = useState([]);\n  const [searchInput, setSearchInput] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (searchTerm) {\n      fetchMovies(searchTerm);\n    }\n  }, [searchTerm]);\n\n  const fetchMovies = async searchTerm => {\n    try {\n      const url = `https://api.themoviedb.org/3/search/movie?api_key=9c2047c90d98ec66c1e34a0e397d29c4&query=${encodeURIComponent(\n        searchTerm\n      )}`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setMovies(data.results);\n    } catch (error) {\n      console.log('Error fetching movies:', error);\n    }\n  };\n\n  const handleSearch = () => {\n    navigate(`/movies?search=${encodeURIComponent(searchInput)}`);\n    fetchMovies(searchInput);\n  };\n\n  const handleInputChange = e => {\n    setSearchInput(e.target.value);\n  };\n\n  const handleMovieClick = movieId => {\n    navigate(`/movies/${movieId}`);\n  };\n\n  return (\n    <div>\n      <nav className={styles.nav}>\n        <Link to=\"/\" className={styles.nav__namehome}>\n          Home\n        </Link>\n        <Link to=\"/movies\" className={styles.nav__name}>\n          Movies\n        </Link>\n      </nav>\n      <div className={styles.search}>\n        <input\n          className={styles.input}\n          type=\"text\"\n          placeholder=\"enter film name\"\n          value={searchInput}\n          onChange={handleInputChange}\n        />\n        <button className={styles.button} onClick={handleSearch}>\n          Search\n        </button>\n      </div>\n\n      <ul>\n        {movies.map(movie => (\n          <li\n            className={styles.li}\n            key={movie.id}\n            onClick={() => handleMovieClick(movie.id)}\n          >\n            {movie.title}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["location","useLocation","searchTerm","URLSearchParams","search","get","useState","movies","setMovies","searchInput","setSearchInput","navigate","useNavigate","useEffect","fetchMovies","url","encodeURIComponent","fetch","response","json","data","results","console","log","className","styles","to","type","placeholder","value","onChange","e","target","onClick","map","movie","movieId","id","title","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}