"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[653],{653:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(861),c=r(439),a=r(757),u=r.n(a),o=r(791),s=r(689),i=r(87),p="Movies_nav__xgurm",v="Movies_nav__name__X2Gn5",l="Movies_nav__namehome__X9xkp",f="Movies_search__xz3P7",h="Movies_input__OE3ef",m="Movies_button__hVjwG",_="Movies_li__oWqWQ",d=r(992),x=r(184),g=function(){var e=(0,s.TH)(),t=new URLSearchParams(e.search).get("search"),r=(0,o.useState)([]),a=(0,c.Z)(r,2),g=a[0],b=a[1],k=(0,o.useState)(""),w=(0,c.Z)(k,2),y=w[0],Z=w[1],j=(0,s.s0)(),C=(0,o.useCallback)((0,n.Z)(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.prev=1,e.next=4,(0,d._z)(t);case 4:r=e.sent,b(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error fetching movies:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t]);(0,o.useEffect)((function(){C()}),[C]);var E=(0,o.useCallback)((function(e){e.preventDefault(),j("/movies?search=".concat(encodeURIComponent(y))),b([]),y&&C()}),[y,C,j]);return(0,x.jsxs)("div",{children:[(0,x.jsxs)("nav",{className:p,children:[(0,x.jsx)(i.rU,{to:"/",className:l,children:"Home"}),(0,x.jsx)(i.rU,{to:"/movies",className:v,children:"Movies"})]}),(0,x.jsxs)("form",{className:f,onSubmit:E,children:[(0,x.jsx)("input",{className:h,type:"text",placeholder:"enter film name",value:y,onChange:function(e){Z(e.target.value)}}),(0,x.jsx)("button",{className:m,type:"submit",children:"Search"})]}),(0,x.jsx)("ul",{children:g.map((function(e){return(0,x.jsx)("li",{className:_,onClick:function(){return t=e.id,void j("/movies/".concat(t));var t},children:e.title},e.id)}))})]})}},992:function(e,t,r){r.d(t,{Hx:function(){return f},Y5:function(){return v},_z:function(){return l},vw:function(){return p},y:function(){return i}});var n=r(861),c=r(757),a=r.n(c),u=r(243),o="9c2047c90d98ec66c1e34a0e397d29c4",s="https://api.themoviedb.org/3",i=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(s,"/movie/").concat(t,"/credits?api_key=").concat(o));case 3:return r=e.sent,n=r.data,e.abrupt("return",n.cast);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error fetching cast:",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(s,"/trending/movie/day?api_key=").concat(o));case 3:return t=e.sent,r=t.data,e.abrupt("return",r.results);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error fetching movies:",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(s,"/movie/").concat(t,"?api_key=").concat(o));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error fetching movie details:",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(s,"/search/movie?api_key=").concat(o,"&query=").concat(encodeURIComponent(t)),e.next=4,u.Z.get(r);case 4:return n=e.sent,c=n.data,e.abrupt("return",c.results);case 9:return e.prev=9,e.t0=e.catch(0),console.log("Error fetching movies:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(s,"/movie/").concat(t,"/reviews?api_key=").concat(o));case 3:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error fetching movie reviews:",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=653.e77f6242.chunk.js.map